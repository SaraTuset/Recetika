<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--JQuery-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<nav class="navbar">
    <div class="navbar_container">
        <img title="recetika_image" id="navbar_logo" src="../../assets/Recetika_Iconologo.svg" href="#" />
        <!-- aqui irian todas las opciones de navegacion -->

        <!--Search and filtering-->
        <div id="searchFilter">
            <!--Search bar-->
            <div class="bm-nav-item">
                <form class="bm-d-flex position-relative" onSubmit="return false;">
                    <input id="search-bar" class="form-control search-bar" type="search" placeholder="Buscar"
                        aria-label="Search">
                    <button type="submit" title="search" id="magnifier-icon-link"
                        style="cursor: pointer; border: none; background: grey; position: absolute; top: 50%; right: 0px; transform: translateY(-50%); height: 100%; border-radius: .25rem; color: white; opacity: 0.5">
                        <i id="magnifier-icon" class="fa-solid fa-magnifying-glass" style="margin: 5px"></i>
                    </button>
                </form>
            </div>
            <!--End of search bar-->
        </div>
        <!--End of search and filtering-->

        <div class="navbar_account">
            <div id="options_nav">
                <!--TODO: Sprint 2
                    <button class="calories_button" onclick="location.href='./calculator'">
                        <i class="fa-solid fa-weight-scale" style="margin-right: 5px;"></i>
                        Calcula Calorias
                    </button>
                    -->
                <button class="newrecipe_button" onclick="location.href='./newrecipe'">
                    <i class="fa-solid fa-spoon" style="margin-right: 5px;"></i>
                    Subir Receta
                </button>
            </div>

            <div id="login_nav"></div>
        </div>
    </div>
</nav>

<link href="../css/nav.css" rel="stylesheet" />

<script>
    window.onload = function () {
        const username = '{{username}}';
        const loginNav = document.getElementById("login_nav");

        if (username) {
            loginNav.innerHTML = `
                <span class="navbar_username">${username}</span>
                <button class="logout_button" onclick="location.href='/logout'">Cerrar sesión</button>
            `;
        } else {
            loginNav.innerHTML = `
                <button class="login_button" onclick="location.href='/login'">
                    <i class="fa-solid fa-arrow-right-to-bracket" style="margin-right: 5px;"></i>
                    Iniciar Sesión
                </button>
                <button class="register_button" onclick="location.href='/register'">
                    <i class="fa-solid fa-user-plus" style="margin-right: 5px;"></i>
                    Registrarse
                </button>
            `;
        }
    }
</script>

<script type="module" src="/../js/navScript.js"></script>